<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Intencje</title>
    <script src="https://kit.fontawesome.com/190892c2b3.js" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Aboreto&family=Source+Sans+Pro:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
    <link href="/dist/css/hamburger.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/dist/css/main.min.css">

</head>

<body>
    <header class="header__intencja">
        <a href='index.html'><i class="bi bi-house-heart header__logo"></i></a>

        <button class="hamburger hamburger--collapse" type="button">
            <span class="hamburger-box">
                <span class="hamburger-inner"></span>
            </span>
        </button>
        <!-- @include 'nav.kit' -->


        <div class="intencja">
            <div class="intencja__img">
                <h1 class="intencja__header">Prześlij intencję z prośbą o modlitwę</h1>
                <div class="containerIntencja">
                    <form class="intencja__form" id="form" onsubmit="return submitFunc()">
                        <input class="intencja__form-group" id="name" type="text" name="name" placeholder="Twoje Imie">
                        <input class="intencja__form-group" type="email" name="email" id="email" placeholder="Email"
                            required
                            oninvalid="this.setCustomValidity('Proszę wypełnij to polę. Email jest wymagany.')">
                        <textarea class="intencja__form-group" id="intention" type="text" name="Message"
                            placeholder="Intencja" required></textarea>
                        <button class="intencja__form-btn" id="btn" type="submit" name="button">Wyślij</button>

                    </form>
                </div>
            </div>
        </div>
    </header>

    <main>
        <section class="added">
            <!-- <p id="conf"></p> -->
            <div class="added__intencja" id="taskBoard"></div>
        </section>
    </main>


    <!-- @include 'footer.kit' -->

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
        AOS.init();
    </script>

    <script type="text/javascript">
        const intention = document.getElementById("intention");
        const name = document.getElementById("name");
        const btnInsert = document.getElementById("btn");
        const lsOutput = document.getElementById("taskBoard");

        btnInsert.onclick = function () {
            const key = intention.value;
            const value = name.value;

            if (key && value) {
                localStorage.setItem(key, value);
                location.reload();
            }
        }

        for (let i = 0; i < localStorage.length; i++) {
            let childcount = document.getElementById("taskBoard").querySelectorAll('h2').length;
            if (childcount >= 10) {
                let select = document.getElementById('taskBoard');
                select.lastChild.innerHTML = ''
            } else {
                const key = localStorage.key(i);
                const value = localStorage.getItem(key);
                lsOutput.innerHTML += `<h2>${key} ~ ${value}</h2>`;
            }
        }

    </script>
    <script src="/dist/js/main.min.js"></script>

</body>

</html>